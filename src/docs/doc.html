<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Michal Kráčalík" />
  <title>Python in Applied Science</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Python in Applied Science</h1>
<p class="author">Michal Kráčalík</p>
</header>
<h1 data-number="1" id="introduction"><span
class="header-section-number">1</span> Introduction</h1>
<p>Python is as a multi-purpose programming language heavily used in
various branches of science. Apart from software development in science,
prominent is scripting based approach for computation, scientific
visualization, data analysis, model development etc. Python being
inherently programming free language emulates in some degree other tools
like MATLAB, Wolfram Mathematica, R among many.</p>
<p>Scripting based approach is often related with pile of scripts
without clear structure and library incompatibilities. Python offers
from software development point of view some tools and way of working to
mitigate such problems:</p>
<ul>
<li>project based scripting</li>
<li>version control (git)</li>
<li>virtual environment (.venv)</li>
<li>code formatters</li>
<li>type hints</li>
</ul>
<p>Techniques like Unit testing or CI/CD pipelines are usually omitted
and are devoted to software development itself.</p>
<p>All presented tools are intended to work locally without cloud
services or subscription; eventually at institution´s intranet. The
presented text is opinionated and not encompass all Python-world
options.</p>
<h1 data-number="2" id="integrated-development-environment-ide"><span
class="header-section-number">2</span> Integrated Development
Environment (IDE)</h1>
<p>There are plenty of IDE. Spyder focuses directly on science/data
science and has MATLAB alike appearance (Editor window, Variable
Explorer/Plots and IPython Console for interactive work). However,
working with virtual environment is partially tedious (restart Spyder).
PyCharm is “all-in-one” partially paid product (pro) with installation
about 1 Gb. Visual Studio Code is a lightweight customizable IDE with
easy git integration and “real-time” virtual environment switching
capability. Hence, VS Code will be used further. Presented methods will
occasionally rely on CLI (command line interface) and generally, IDE can
be used according to reader´s preferences. JupyterLab is out scope of
this text because .ipynb can be run from Visual Studio Code (with
ipykernel library)</p>
<h1 data-number="3" id="project-based-scripting"><span
class="header-section-number">3</span> Project Based Scripting</h1>
<p>Science is generally connected with the idea-testing with lot of
iterations. Hence, there are often scripts like ‘model_temp.py;
model_temp_v2.py’ etc. The good project structure and version control
allows to keep code cleaner, maintain basic documentation for further
usage. There is often enough to follow shallow structure:</p>
<pre><code>hertz_pressure
- src
    - core
        contact.py
    compute.py</code></pre>
<p><code>hertz_pressure</code> contains only one script file
<code>compute.py</code> where will be import
<code>from core import contact as contact</code> and code. Assuming, the
project cannot be rigorously structured (Hertz pressure calculation are
well established), or the input data are constantly changing is often be
advantageous naming with date e.g.</p>
<pre><code>hertz_pressure
- src
    - core
        contact.py
    20250827_compute.py
    20250829_add_new_geom_par.py
    ...</code></pre>
<p>and short information into the file header.</p>
<p>It is strongly recommended to think project/task oriented and focus
on specific scientific task. It is additionally recommended use project
oriented .venv (pip alike) instead of global (conda alike). Using
project based scripting and .venv help immensely initiate new fork from
current project.</p>
<h1 data-number="4" id="virtual-environment-.venv"><span
class="header-section-number">4</span> Virtual Environment (.venv)</h1>
<p>Virtual environments are closely related with package managers and it
is the most crucial part. Scientists need to install libraries to create
“scientific calculator” from Python programming language. Basic solution
is often all-in-all Anaconda distribution and working in base
environment - it is generally not recommended practice but allows
uncomplicated scripting at the beginning. The big issue starts after
necessity to install additional libraries. Working on multiple projects,
it usually ends with conflicting library version and not functioned old
scripts. Create a separate “global conda” environment like
“data_science” mitigates such situations but at the end, the situation
will be repeated later (regardless lightweight conda distributions like
Miniconda or Miniforge). Additionally (despite progress in recent
years), conda can be concluded as a slow packed manager.</p>
<p>Project related libraries can be installed locally to created .venv
by default pip manager or python native library venv. Library management
is left to user. Newer managers like poetry or uv extended and modernize
dependency management (from requirements.txt to pyproject.toml) and
other features. uv integrates venv, is fast and automatically update all
installed dependencies. User has to pay no attention to the library
management and pyproject.toml can be easily transformed to new project,
if necessary. After installation, new project will be started by:</p>
<pre><code>uv init</code></pre>
<p>and new project structure will be created:</p>
<pre><code>hertz_pressure
- .gitignore
- .python-version
- README.md
- main.py
- pyproject.toml</code></pre>
<p>Virtual environment will created by:</p>
<pre><code>uv run </code></pre>
<p>and new environment will be created.</p>
<p>Created pyproject.toml contains</p>
<pre><code>[project]
name = &quot;hertz_pressure&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
dependencies = []
</code></pre>
<p>and library can be added</p>
<pre><code>uv add numpy pandas matplotlib</code></pre>
<p>or removed</p>
<pre><code>uv remove numpy matplotlib</code></pre>
<p>pyproject.toml will be automatically updated. Read uv documentation
for further information.</p>
<p>Additional scientific package WinPython is one all-in-one portable
solution out of focus of this text.</p>
<h1 data-number="5" id="version-control"><span
class="header-section-number">5</span> Version Control</h1>
<p>Version control with code repository help to archive legacy code,
share scripts with colleagues and keep workspace clean (actually not
used code can be deleted from local workspace and downloaded if
necessary or code can be reviewed in Web Browser). Self-hosted solution
should be run on back-up hard-disk or ideally at institution´s
fileserver (contact your IT-administrator).</p>
<p>Gogs offers simple self-hosted git service; Gitea offers broader
functionality with appearance much alike popular software development
cloud services GitHub or GitLab. While software is usually not developed
in science, simple solution will be recommended.</p>
<h1 data-number="6" id="py-or-.ipynb"><span
class="header-section-number">6</span> .py or .ipynb?</h1>
<p>Pure python files (.py) are preferred for developed functions stored
in <code>\src\core</code> directories and batch processing. Python files
can be run in interactive mode in Visual Studio Code with installed
ipykernel. Jupyter Notebook (.ipynb) can be executed in Visual Studio
Code with Jupyter Extensions (downloaded automatically at first .ipynb
execution). In figures below are interactive .py with cells (<a
href="#fig:interactive-python">Figure </a>) and ipynb script (<a
href="#fig:jupyter-notebook">Figure </a>):</p>
<figure id="fig:interactive-python">
<img src="../figs/py_with_cells.png" style="width:100.0%"
alt="Interactive Python" />
<figcaption aria-hidden="true">Interactive Python</figcaption>
</figure>
<figure id="fig:jupyter-notebook">
<img src="../figs/ipynb.png" style="width:50.0%"
alt="Jupyter Notebook" />
<figcaption aria-hidden="true">Jupyter Notebook</figcaption>
</figure>
<p>Python file tends to be shorter with figure placed into the separated
right interactive window (install ipympl and uncomment %matplotlib
widget to work interactively with figures). Jupyter Notebook places
cells output top-bottom and markdown cells are visually more appealing
but script is far less concise. Nevertheless, use only .ipynb for
interactive work with graph (see next chapter).</p>
<h1 data-number="7" id="code-formatter"><span
class="header-section-number">7</span> Code Formatter</h1>
<p>Code formatter is an extremely useful tool to maintain readability of
code. However, autopep8 extension doesn´t work within .ipynb (use
%matplotlib widget # noqa to allow code formation in interactive .py)
and tends to be slow. Another official extension Black Formatter or Ruff
from same company like uv package manager don´t work with %matplotlib
widget in .py. Therefore, use only .ipynb when working with graphs in
interactive manner.</p>
<p>Setup chosen code formatter on “editor.formatOnSave”: true
(“notebook.formatOnSave.enabled”: true) in Visual Studio Code for
automatic code formatting.</p>
<h1 data-number="8" id="type-hints"><span
class="header-section-number">8</span> Type Hints</h1>
<p>Use type hints within your functions - it is a minimal effort to
write a code like this:</p>
<pre><code>from typing import List


def ext_list(inp: List, a: int | float, b: int | float) -&gt; List:
    &quot;&quot;&quot;Return input list extended about added a + b&quot;&quot;&quot;
    c = a + b
    inp.append(c)

    return inp</code></pre>
<p>instead of (NumPy docstring format):</p>
<pre><code>def ext_list(inp, a, b):
    &quot;&quot;&quot; Re-writed by copilot.microsoft.com
    Extend a list by appending the sum of two numbers.

    Parameters
    ----------
    inp : list
        The list to be extended.
    a : int or float
        The first number to add.
    b : int or float
        The second number to add.

    Returns
    -------
    list
        The input list with an additional element equal to ``a + b``.

    Examples
    --------
    &gt;&gt;&gt; ext_list([1, 2], 3, 4)
    [1, 2, 7]
    &gt;&gt;&gt; ext_list([], 1.5, 2.5)
    [4.0]
    &quot;&quot;&quot;
    c = a + b
    inp.append(c)

    return inp</code></pre>
<p>Function annotated by hints is much more readable and concise (even
without example) as using NumPy docstring format.</p>
<p>Rule of thumb: if some developed procedure has to be used at least
twice, create a function; AI excels in such situations (check your
institution´s IT-policy). There is often necessity to change procedures
in science but calling variety of functions e.g. from
<code>\src\core\core_funcs.py</code>:</p>
<pre><code>from core import core_funcs as cf

inp_l = [1, 2, 3]
cf.ext_list(inp_l, 10, 20)</code></pre>
<p>and keeping clean main code enhance readability.</p>
<h1 data-number="9" id="conclusions"><span
class="header-section-number">9</span> Conclusions</h1>
<p>Some software development techniques were introduced to enhance
reusability and readability of Python codes within scripting usual in
scientific environment. Project based scripting was introduced as a main
way organizing code. Additionally, package managers were introduced that
support project based scripting and separated virtual environment.
Starting from Version Control, interactive scripting and readability was
discussed. Employing Code formatters and Type hints was shown how code
readability can be enhanced and maintained with minimum additional
scripting effort.</p>
</body>
</html>
